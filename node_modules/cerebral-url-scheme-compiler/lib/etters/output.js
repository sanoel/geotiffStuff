'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectPath = require('../objectPath');

exports.default = function (path, url, urlPath) {
  // add the value to the input object and pass it to output
  return function output(_ref, value) {
    var input = _ref.input;
    var output = _ref.output;

    var outputValue = value && typeof value.toJS === 'function' ? value.toJS() : value && value.constructor === Object && Object.isFrozen(value) ? JSON.parse(JSON.stringify(value)) : value;
    if (urlPath) {
      (0, _objectPath.setPathValue)(input, urlPath, outputValue);
      output(input);
    } else {
      output(outputValue);
    }
    return value;
  };
};